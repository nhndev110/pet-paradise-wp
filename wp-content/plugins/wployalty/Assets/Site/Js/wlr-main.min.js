/**
 * @author      Flycart (Alagesan)
 * @license     http://www.gnu.org/licenses/gpl-3.0.html
 * @link        https://www.flycart.org
 * */ "undefined"==typeof wlr_jquery&&(wlr_jquery=jQuery.noConflict()),wlr=window.wlr||{},function(e){e.show_notice=function(e,t){t||(t=wlr_jquery(".woocommerce-notices-wrapper:first")||wlr_jquery(".cart-empty").closest(".woocommerce")||wlr_jquery(".woocommerce-cart-form")),t.prepend(e)},e.displayStoreNotice=function(e,t="info"){let a="is-info";"error"===t&&(a="is-error");let o=wlr_jquery(".wc-block-components-sidebar-layout.wc-block-checkout #contact-fields  .wc-block-components-notices__snackbar.wc-block-components-notice-snackbar-list div");if(o.length){let r=wlr_jquery('<div class="wlr-custom-notice wc-block-components-notice-snackbar wc-block-components-notice-banner  notice-transition-enter-done '+a+'">            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true"\n                 focusable="false">\n                <path\n                    d="M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"></path>\n            </svg>\n<div class="wc-block-components-notice-banner__content">'+e+'</div><button type="button" onclick="jQuery(this).parent().remove()" class="components-button wc-block-components-button wp-element-button wc-block-components-notice-banner__dismiss contained has-text has-icon" aria-label="Dismiss this notice">\n        <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg>\n        <span class="wc-block-components-button__text"></span></button></div>');o.prepend(r),setTimeout(function(){wlr_jquery(".wlr-custom-notice").remove()},2e3)}},e.removeMessage=function(){wlr_jquery(this).remove()},e.copyLink=function(e){var t=document.getElementById(e);t.select(),t.focus(),t.select(),document.execCommand("copy")};let t=[];e.socialShare=function(a,o){if(wlr_localize_data.social_share_window_open?window.open(a,o,"width=626, height=436"):window.open(a,"_blank"),!t.includes(o)){var r={action:"wlr_social_"+o,wlr_nonce:wlr_localize_data.apply_share_nonce};e.award_social_point(r),t.push(o)}},e.followUpShare=function(a,o,r){if(wlr_localize_data.followup_share_window_open?window.open(o,r,"width=626, height=436"):window.open(o,"_blank"),!t.includes(r)){var n={action:"wlr_follow_"+r,wlr_nonce:wlr_localize_data.apply_share_nonce,id:a};e.award_social_point(n),t.push(r)}},e.award_social_point=function(e){wlr_jquery.ajax({data:e,type:"post",url:wlr_localize_data.ajax_url,error:function(e,t){},success:function(e){window.location.reload()}})},wlr_jquery(document).on("revertEnable",function(e,t){wlr_jquery(".wlr-myaccount-page .wlr-revert-tool i").toggleClass("wlrf-arrow-down wlrf-arrow_right"),wlr_jquery(t).toggleClass("wlr-revert-active  ")}),wlr_jquery(document).on("wlr_copy_link",function(e,t){var a=document.getElementById(t);a.disabled=!1;var o=a.value;wlr_jquery(document).trigger("wlr_copy_link_custom_url",[a]),a.select(),a.focus(),a.select(),document.execCommand("copy"),a.value=o,a.disabled=!0}),wlr_jquery(document).on("readMoreLessContent",function(e,t){wlr_jquery(".wlr-myaccount-page "+t).toggleClass("show-less-content show-more-content")}),wlr_jquery(document).on("wlr_my_reward_section",function(e,t,a=!1,o=""){if(wlr_jquery(".wlr-myaccount-page .wlr-my-rewards-title").removeClass("active"),wlr_jquery(".wlr-myaccount-page .wlr-user-reward-contents .active").removeClass("active"),wlr_jquery(".wlr-myaccount-page .wlr-"+t+"-title").addClass("active"),wlr_jquery(".wlr-myaccount-page .wlr-"+t+"-container").addClass("active"),a){let r=window.location.href,n=r.indexOf("loyalty_reward");if(-1!==n){let c=r.substring(0,n+14);history.pushState({},document.title,c)}}window.location.href="#wlr-your-reward"}),wlr_jquery(document).on("click",".wlr-coupons-expired-title",function(){wlr_jquery(".wlr-myaccount-page .wlr-toggle-arrow").toggleClass("wlrf-arrow-down wlrf-arrow-up"),wlr_jquery(".wlr-myaccount-page .wlr-user-expired-reward-section").toggleClass("active ")}),wlr_jquery(document).on("wlr_get_used_reward",function(e){let t=wlr_jquery(".wlr-myaccount-page #wlr-points #wlr_currency_list").data("user-used-reward"),a=wlr_jquery(".wlr-myaccount-page #wlr-points #wlr_currency_list").data("user-used-reward-count"),o=wlr_jquery(".wlr-myaccount-page #wlr-points #wlr_currency_list").val();wlr_jquery(".wlr-myaccount-page #wlr-used-reward-value-count").html(a[o]),wlr_jquery(".wlr-myaccount-page #wlr-used-reward-value").html(t[o])}),wlr_jquery(document).on("wlr_copy_coupon",function(e,t,a){var o=wlr_jquery("<input>");wlr_jquery("body").append(o),o.val(wlr_jquery(t).text()).select(),document.execCommand("copy"),alertify.set("notifier","position","top-right"),wlr_jquery(".wlr-myaccount-page .wlr-coupon-card .wlrf-save").toggleClass("wlrf-copy wlrf-save"),wlr_jquery(a).toggleClass("wlrf-copy wlrf-save"),o.remove()}),wlr_jquery(document).on("wlr_enable_email_sent",function(e,t){let a=wlr_jquery("#"+t).is(":checked")?1:0;wlr_jquery.ajax({url:wlr_localize_data.ajax_url,type:"POST",dataType:"json",data:{action:"wlr_enable_email_sent",wlr_nonce:wlr_localize_data.enable_sent_email_nonce,is_allow_send_email:a},success:function(e){window.location.reload()}})});let a=[];wlr_jquery(document).on("wlr_apply_reward_action",function(t,o,r,n="",c=!1,l=""){if(!a.includes(o)){""!==n&&e.disableButton(n);var s={action:"wlr_apply_reward",wlr_nonce:wlr_localize_data.wlr_reward_nonce,reward_id:o,type:r,is_block:wlr_localize_data.is_checkout_block};wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:s,dataType:"json",before:function(){},success:function(e){if(wlr_localize_data.is_checkout_block&&(e?.data?.message_type==="error"&&e?.data?.message?localStorage.setItem("wlr_error_message",e?.data?.message):e?.data?.message&&localStorage.setItem("wlr_success_message",e?.data?.message)),wlr_jquery(document).trigger("wlr_apply_reward_action_trigger",[e.data,wlr_localize_data]),e.data.redirect_status){window.location.href=e.data.redirect;return}c&&""!==l&&window.location.href!==l?window.location.href=l:window.location.reload()}}),a.push(o)}}),wlr_jquery(document).on("wlr_redirect_url",function(e,t){window.location.href=t}),wlr_jquery(document).on("wlr_my_rewards_pagination",function(e,t,a,o){let r=wlr_jquery(".wlr-myaccount-page .wlr-coupons-list #wlr-endpoint-url").data("url");wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:{type:t,page_number:a,page_type:o,action:"wlr_my_rewards_pagination",wlr_nonce:wlr_localize_data.pagination_nonce,endpoint_url:r},dataType:"json",before:function(){},success:function(e){if(e.status){var a=wlr_jquery(".wlr-"+t+"-container");a.css("opacity",0),setTimeout(function(){a.html(e.data.html),a.css("opacity",1)},350)}}})}),wlr_jquery(document).on("wlr_apply_point_conversion_reward",function(t,a,o,r,n="",c="",l=!1,s=""){""!==c&&e.disableButton(c);let i=wlr_jquery(n).val(),u={action:"wlr_apply_reward",wlr_nonce:wlr_localize_data.wlr_reward_nonce,reward_id:a,type:o,points:i,is_block:wlr_localize_data.is_checkout_block};wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:u,dataType:"json",before:function(){},success:function(e){if(wlr_jquery(document).trigger("wlr_apply_reward_action_trigger",[e.data,wlr_localize_data]),wlr_localize_data.is_checkout_block&&(e?.data?.message_type==="error"&&e?.data?.message?localStorage.setItem("wlr_error_message",e?.data?.message):e?.data?.message&&localStorage.setItem("wlr_success_message",e?.data?.message)),wlr_jquery(document).trigger("wlr_apply_reward_action_trigger",[e.data,wlr_localize_data]),e.data.redirect_status){window.location.href=e.data.redirect;return}l&&""!==s&&window.location.href!==s?window.location.href=s:window.location.reload()}})}),wlr_jquery(document).on("wlr_apply_point_conversion_reward_action",function(t,a,o,r,n=""){""!==n&&e.disableButton(n),alertify.prompt(wlr_localize_data.point_popup_message,r,function(e,t){var r={action:"wlr_apply_reward",wlr_nonce:wlr_localize_data.wlr_reward_nonce,reward_id:a,type:o,points:t};wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:r,dataType:"json",before:function(){},success:function(e){window.location.reload()}})}).setHeader("").set("labels",{ok:wlr_localize_data.popup_ok,cancel:wlr_localize_data.popup_cancel}).set("oncancel",function(){window.location.reload()})}),e.disableButton=function(e,t=!1){let a=wlr_jquery(".wlr-myaccount-page").find(".wlr-button");t?wlr_jquery(e).addClass("wlr-button-spinner"):wlr_jquery(e).toggleClass("wlr-button-action wlr-button-spinner"),wlr_jquery.each(a,function(e,t){wlr_jquery(t).hasClass("wlr-button-action")&&wlr_jquery(t).css("background","#cccccc"),t.setAttribute("disabled",!0),t.removeAttribute("onclick")}),wlr_jquery(e).hasClass("wlr-button-spinner")&&wlr_jquery(e).html('<div class="wlr-spinner">\n    <span class="spinner" style="border-top: 4px '+wlr_localize_data.theme_color+' solid;"></span>\n</div>')},wlr_jquery(document).on("wlr_calculate_point_conversion",function(e,t,a){let o=wlr_jquery(".wlr-myaccount-page #"+t),r=o.attr("data-require-point");r=isNaN(parseInt(r))?0:parseInt(r);let n=o.attr("data-discount-value");n=isNaN(parseFloat(n))?0:parseFloat(n);let c=o.attr("data-available-point");c=isNaN(parseInt(c))?0:parseInt(c);let l=isNaN(parseInt(o.val()))?0:parseInt(o.val()),s=o.attr("data-max-allowed-point"),i=o.attr("data-min-allowed-point");s=isNaN(parseInt(s))?0:parseInt(s);let u=o.attr("data-button-id");wlr_jquery("#"+u).attr("disabled",!1),wlr_jquery(".wlr-error").remove();let d=o.attr("data-is-max-changed");if(i>0&&l<i){let p=o.attr("data-min-message");wlr_jquery("#"+u).attr("disabled",!0);wlr_jquery("#"+o.attr("data-section-id")).after('<span class="wlr-error">'+p+"</span>"),wlr_jquery(".wlr-myaccount-page .wlr-input-point-section #"+t).css({outline:"1px solid red","border-radius":"6px 0 0 6px"}),wlr_jquery(".wlr-myaccount-page .wlr-point-conversion-section #"+t+"_button").hide()}else if(s>0&&l>s){let w=o.attr("data-max-message");wlr_jquery("#"+u).attr("disabled",!0);wlr_jquery("#"+o.attr("data-section-id")).after('<span class="wlr-error">'+w+"</span>"),wlr_jquery(".wlr-myaccount-page .wlr-input-point-section #"+t).css({outline:"1px solid red","border-radius":"6px 0 0 6px"}),wlr_jquery(".wlr-myaccount-page .wlr-point-conversion-section #"+t+"_button").hide()}else d&&0===s?(wlr_jquery(".wlr-myaccount-page .wlr-input-point-section #"+t).css({outline:"1px solid red","border-radius":"6px 0 0 6px"}),wlr_jquery(".wlr-myaccount-page .wlr-point-conversion-section #"+t+"_button").hide()):l>c||0===l?(wlr_jquery(".wlr-myaccount-page .wlr-input-point-section #"+t).css({outline:"1px solid red","border-radius":"6px 0 0 6px"}),wlr_jquery(".wlr-myaccount-page .wlr-point-conversion-section #"+t+"_button").hide()):(wlr_jquery(".wlr-myaccount-page .wlr-input-point-section #"+t).css({outline:"unset"}),wlr_jquery(".wlr-myaccount-page .wlr-point-conversion-section #"+t+"_button").show());let m={input_value:(l/r*n).toFixed(2),input_point:l,require_point:r,discount_value:n};wlr_jquery(this).trigger("wlr_calculate_point_conversion_input_value",[m]),wlr_jquery(".wlr-myaccount-page #"+a).text(m.input_value)}),wlr_jquery(document).on("wlr_apply_social_share",function(t,a,o){e.socialShare(a,o)}),wlr_jquery(document).on("wlr_apply_followup_share",function(t,a,o,r){e.followUpShare(a,o,r)}),wlr_jquery(document).on("click","#wlr-reward-link",function(e){let t=wlr_jquery(this).data("isblock"),a={action:"wlr_show_loyalty_rewards",wlr_nonce:wlr_localize_data.wlr_redeem_nonce,is_block:t};wlr_jquery(this).css("pointer-events","none"),wlr_jquery(this).after('<div class="wlr-dot-pulse"></div>'),wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:a,dataType:"json",before:function(){},success:function(e){alertify.defaults.defaultFocusOff=!0,wlr_jquery(".wlr-dot-pulse").remove(),wlr_jquery("#wlr-reward-link").css("pointer-events",""),alertify.alert(e.data.html).setHeader("").set("label",wlr_localize_data.popup_ok)}})}),wlr_jquery(document).on("click","#wlr_point_apply_discount_button",function(t){if(1===wlr_jquery("#wlr_is_partial").val())return t.preventDefault(),!1;var a=wlr_jquery("#wlr_is_checkout").val(),o={action:"wlr_apply_loyal_discount",discount_amount:wlr_jquery("#wlr_discount_point").val(),wlr_nonce:wlr_localize_data.wlr_discount_none};return wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:o,dataType:"json",success:function(t){1==a?t.success&&wlr_jquery(document.body).trigger("update_checkout",{update_shipping_method:!0}):(wlr_jquery(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove(),t.data.message&&e.show_notice(t.data.message),wlr_jquery(document.body).trigger("wc_update_cart",!0))}}),!1}),wlr_jquery(document).ready(function(){wlr_jquery(document).on("click",".wlr_change_product",function(){var e=wlr_jquery(this).attr("data-pid"),t=wlr_jquery(this).attr("data-rule_id"),a=wlr_jquery(this).attr("data-parent_id"),o={action:"wlr_change_reward_product_in_cart",variant_id:e,rule_unique_id:t,product_id:a,wlr_nonce:wlr_localize_data.wlr_reward_nonce};wlr_jquery.ajax({url:wlr_localize_data.ajax_url,data:o,type:"POST",success:function(e){!0==e.success&&(wlr_jquery("[name='update_cart']").removeAttr("disabled"),wlr_jquery("[name='update_cart']").trigger("click"))},error:function(e){}})}),wlr_jquery(document).on("click",".wlr-select-free-variant-product-toggle",function(e){e.preventDefault(),this.classList.toggle("wlr-select-free-variant-product-toggle-active");var t=this.nextElementSibling;"block"===t.style.display?wlr_jquery(t).slideUp(1e3):wlr_jquery(t).slideDown(1e3)})}),wlr_jquery(document).on("wlr_update_birthday_action",function(e,t,a,o){var r={action:"wlr_update_birthday",wlr_nonce:wlr_localize_data.wlr_reward_nonce,campaign_id:t,birth_date:wlr_jquery(a).val()};wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:r,dataType:"json",before:function(){},success:function(e){window.location.reload()}})}),e.checkDateEmpty=function(t,a){return("object"==typeof t||0!==Object.keys(t).length)&&"string"==typeof a&&e.validateDate(t,a)},e.validateDate=function(t,a){if("object"!=typeof t&&0===Object.keys(t).length||"string"!=typeof a)return!1;let o=parseInt(t.value),r;switch(a){case"Y":let n=new Date().getFullYear();r=isNaN(o)||o<1823||o>n||4!==t.value.length?e.validationError(t,!0):e.validationError(t,!1);break;case"m":r=isNaN(o)||o<1||o>12?e.validationError(t,!0):e.validationError(t,!1);break;case"d":r=isNaN(o)||o<1||o>31?e.validationError(t,!0):e.validationError(t,!1)}return r},e.validationError=function(e,t=!0){if("object"!=typeof e&&0===Object.keys(e).length||"boolean"!=typeof t)return!1;let a=!1;return t?e.style.border="3px solid red":(a=!0,e.style.border=""),a},wlr_jquery(document).on("wlr_update_birthday_date_action",function(t,a,o,r){let n=document.getElementById("wlr-customer-birth-date-day-"+o),c=document.getElementById("wlr-customer-birth-date-month-"+o),l=document.getElementById("wlr-customer-birth-date-year-"+o);if(!e.checkDateEmpty(n,"d")||!e.checkDateEmpty(c,"m")||!e.checkDateEmpty(l,"Y"))return;let s=l.value+"-"+c.value+"-"+n.value,i={action:"wlr_update_birthday",wlr_nonce:wlr_localize_data.wlr_reward_nonce,campaign_id:a,birth_date:s};wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:i,dataType:"json",before:function(){},success:function(e){window.location.reload()}})}),wlr_jquery(document).on("wlr_revoke_coupon",function(t,a,o){e.disableButton("#wlr-"+a+"-"+o,!0),wlr_jquery("#wlr-"+a+"-"+o).removeAttr("onclick"),alertify.confirm().set({closable:!1}),alertify.confirm("<span>"+wlr_localize_data.revoke_coupon_message+"</span>",function(e,t){var o={action:"wlr_revoke_coupon",wlr_nonce:wlr_localize_data.revoke_coupon_nonce,user_reward_id:a,is_block:wlr_localize_data.is_checkout_block};wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:o,dataType:"json",before:function(){},success:function(e){wlr_localize_data.is_checkout_block&&(!e?.data?.success&&e?.data?.message?localStorage.setItem("wlr_error_message",e?.data?.message):e?.data?.message&&localStorage.setItem("wlr_success_message",e?.data?.message)),window.location.reload()}})},function(e,t){wlr_jquery(document).trigger("revertEnable",["#wlr-"+a+"-"+o]),window.location.reload()}).setHeader("").set("labels",{ok:wlr_localize_data.popup_ok,cancel:wlr_localize_data.popup_cancel})}),function e(){if(wlr_localize_data.is_pro&&"1"===wlr_localize_data.is_allow_update_referral){if(localStorage.getItem("wployalty_referral_code")){let t={action:"wlr_update_referral_code",wlr_nonce:wlr_localize_data.wlr_reward_nonce,referral_code:localStorage.getItem("wployalty_referral_code")};wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:t,dataType:"json",before:function(){},success:function(e){}})}else setTimeout(e,500)}}(),wlr_jquery(document).on("ready",function(){let t=localStorage.getItem("wlr_error_message");t&&(e.displayStoreNotice(t,"error"),localStorage.setItem("wlr_error_message",""));let a=localStorage.getItem("wlr_success_message");a&&(e.displayStoreNotice(a),localStorage.setItem("wlr_success_message",""))}),wlr_jquery(document).on("wlr_my_reward_section_tab",function(e,t,a=""){wlr_jquery(".wlr-myaccount-page .wlr-my-rewards-title").removeClass("active"),wlr_jquery(".wlr-myaccount-page .wlr-user-reward-contents .active").removeClass("active"),wlr_jquery(".wlr-myaccount-page .wlr-"+t+"-title").addClass("active"),wlr_jquery(".wlr-myaccount-page .wlr-"+t+"-container").addClass("active")}),wlr_jquery(document).on("wlr_new_revoke_coupon",function(t,a,o,r){e.disableButton("#wlr-"+a+"-"+o,!0);let n=window.location.href;n.indexOf("active_reward_page");let c=!0;-1!==n.indexOf("active_reward_page")&&(c=!1),wlr_jquery("#wlr-"+a+"-"+o).removeAttr("onclick"),alertify.confirm().set({closable:!1}),alertify.confirm("<span>"+wlr_localize_data.revoke_coupon_message+"</span>",function(e,t){var o={action:"wlr_revoke_coupon",wlr_nonce:wlr_localize_data.revoke_coupon_nonce,user_reward_id:a,is_block:wlr_localize_data.is_checkout_block};wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:o,dataType:"json",before:function(){},success:function(e){wlr_localize_data.is_checkout_block&&(!e?.data?.success&&e?.data?.message?localStorage.setItem("wlr_error_message",e?.data?.message):e?.data?.message&&localStorage.setItem("wlr_success_message",e?.data?.message)),c?window.location.href=r:window.location.reload()}})},function(e,t){wlr_jquery(document).trigger("revertEnable",["#wlr-"+a+"-"+o]),c?window.location.href=r:window.location.reload()}).setHeader("").set("labels",{ok:wlr_localize_data.popup_ok,cancel:wlr_localize_data.popup_cancel})}),wlr_jquery(document).on("wlr_my_reward_section_pagination",function(e,t,a,o){wlr_jquery.ajax({type:"POST",url:wlr_localize_data.ajax_url,data:{type:t,page_number:a,page_type:o,action:"wlr_my_reward_section_pagination",wlr_nonce:wlr_localize_data.pagination_nonce},dataType:"json",before:function(){},success:function(e){if(e.success){let a=wlr_jquery(".wlr-"+t+"-container");a.css("opacity",0),setTimeout(function(){a.html(e.data.html),a.css("opacity",1)},350)}}})})}(wlr_jquery);