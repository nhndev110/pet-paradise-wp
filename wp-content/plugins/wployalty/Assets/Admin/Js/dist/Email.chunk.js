"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[661],{5461:(e,t,l)=>{l.r(t),l.d(t,{default:()=>_});var a=l(467),n=l(296),i=l(4756),s=l.n(i),r=l(6540),c=l(3112),o=l(5666),m=(l(5224),l(1852)),d=l(9327),u=r.lazy((function(){return Promise.all([l.e(550),l.e(826),l.e(664)]).then(l.t.bind(l,5708,23))}));const f=function(e){var t=e.value,l=e.setValue,a=e.content,i=r.useState(!0),s=(0,n.A)(i,2),c=s[0],o=s[1],f=r.useRef(),x=function(e){var t=wp.media({title:"Select media",multiple:!1,library:{type:"image"}}),l=f.current.getEditor();return t.on("select",(function(){t.state().get("selection").each((function(e){var t=e.attributes.url;l.insertEmbed(l.getSelection().index,"image",t)}))})),t.open(),!1},p=r.useMemo((function(){return{toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["image","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"]}]],handlers:{image:x}}}}),[]);return r.useEffect((function(){l(a.content),o(!1)}),[]),c?r.createElement(m.A,null):r.createElement(r.Suspense,{fallback:r.createElement(d.A,{height:"h-100",width:"w-full"})},r.createElement(u,{style:{width:"600px"},theme:"snow",ref:f,value:t,modules:p,onChange:l}))};var x=l(7767);const p=function(e){var t=e.label,l=e.value;return r.createElement("div",{className:"w-full flex flex-col  p-1.5  gap-y-1"},r.createElement("p",{className:"  text-dark   2xl:text-md text-sm font-medium"},l),r.createElement("p",{className:" text-light   text-xs font-normal"},t))};var g=l(5391),b=l(8592);const v=function(e){var t=e.State,l=e.show,a=e.emailDetails,i=e.item,s=e.active,m=e.value,d=e.handleUpdate,u=e.handleReset,v=e.SetDisableSave,y=r.useContext(c.ib),h=r.useState(!0),_=(0,n.A)(h,2),w=_[0],E=_[1],k=((0,r.useContext)(c.Hi),(0,x.g)().type);return r.useEffect((function(){"expire_point_email"===k&&t.data.email_content.hasOwnProperty("wlrpointexpireemail")&&(v(!0),l.set(!0),s.set(k),a.set(t.data.email_content.wlrpointexpireemail))}),[]),r.createElement("div",{className:"group relative  flex items-center justify-between  px-6 py-4 border border-light_border ".concat(s.value===i.title?"bg-light_border":"bg-white"," hover:shadow-card hover:border-white rounded-lg "),style:{minWidth:"670px"}},r.createElement("div",{className:"flex flex-col justify-start items-start space-y-3 w-full "},r.createElement("div",{className:"flex items-center justify-start space-x-5"},r.createElement("h4",{className:"text-dark font-semibold "},i.title),r.createElement("p",{className:"py-1 px-3 font  rounded text-xs font-medium ".concat(i.enabled?"bg-active_light_green text-active_green":"status-disable")},i.enabled?y.common.active:y.common.disabled)),r.createElement("div",{className:"flex items-center "},r.createElement("p",{className:"font-medium font-md text-dark"},y.settings.email.subject),r.createElement("span",{className:"text-xs  font-normal text-light ml-1"},i.subject)),s.value===i.type&&r.createElement("div",{className:"flex flex-col gap-x-2 w-full h-full gap-y-2  mt-3 xl:mt-4 2xl:mt-5"},r.createElement(f,{value:m.value,setValue:m.set,content:i}),r.createElement("div",{className:"flex items-center justify-end gap-x-2 w-full pr-5"},r.createElement(o.A,{click:function(){(0,b.aV)(i.type,u,y.settings.email.reset_alert_message,y.settings.email.reset_ok,y.settings.email.reset_cancel,y.settings.email.reset_mail),v(!1)}},y.common.reset_email_template),r.createElement(o.A,{click:function(){d(i.type),v(!1)}},y.common.update_email_template),r.createElement(o.A,{id:"email_manage",padding:"px-5 py-2",bgColor:"bg-white",outline:!0,outlineStyle:"border-redd",others:"hover:bg-redd hover:text-white",textStyle:"text-redd text-sm font-medium",click:function(){l.set(!1),s.set(""),v(!1)}},y.common.close)))),(""===s.value||s.value===i.type&&!l.value)&&r.createElement("div",{className:"flex items-center gap-x-2 "},r.createElement(o.A,{id:"email_manage",padding:"px-5 py-3",bgColor:"bg-white",outline:!0,outlineStyle:"border-primary",others:"group-hover:bg-primary group-hover:text-white",textStyle:"text-primary text-sm font-medium",click:function(e){e.preventDefault(),window.open(i.manage_url,"_blank")}},y.settings.email.manage),r.createElement(o.A,{id:"email_manage",padding:"px-5 py-3",bgColor:"bg-white",outline:!0,outlineStyle:"border-base-btn_green",textStyle:"text-base-btn_green text-sm font-medium",click:function(e){e.preventDefault(),v(!0),a.set(i),l.set(!0),s.set(i.type)}},y.common.edit)),s.value===i.type&&i.short_codes&&r.createElement("div",{style:{top:0,right:"-270px",width:"260px"},className:"flex flex-col   absolute ".concat(w?"h-62.5":"h-10"," transition-all  ease-out overflow-hidden  bg-grey_extra_light border border-card_border rounded-md ")},r.createElement("div",{className:"w-full flex items-center cursor-pointer justify-between w-full p-1.5",onClick:function(){return E(!w)}},r.createElement("div",{className:"flex items-center p-1 gap-x-2"},r.createElement(g.A,{icon:"info_circle",color:"text-dark"}),r.createElement("p",{className:"text-dark font-medium 2xl:text-md text-sm "},y.common.shortcodes_text)),r.createElement(g.A,{icon:"arrow-down",color:"text-dark"})),r.createElement("span",{className:"border-b border-light_border w-full"}),r.createElement("div",{className:"flex flex-col w-full h-full overflow-y-auto "},Object.keys(null==i?void 0:i.short_codes).map((function(e,t){return r.createElement(p,{key:t,value:e,label:null==i?void 0:i.short_codes[e]})})))))};var y=l(6968),h=l(5419);const _=function(e){var t,l=e.getSettings,i=e.SetDisableSave,o=(0,r.useContext)(c.ib),m=(0,r.useContext)(c.DC).appState,d=r.useContext(c.BN).State,u=r.useState({}),f=(0,n.A)(u,2),p=f[0],b=f[1],_=r.useState(!1),w=(0,n.A)(_,2),E=w[0],k=w[1],S=r.useState(""),N=(0,n.A)(S,2),A=N[0],q=N[1],j=r.useState(""),C=(0,n.A)(j,2),D=C[0],L=C[1],M=(0,x.g)().type,P=(0,x.Zp)(),O=function(e){var t=(new DOMParser).parseFromString(e,"text/html");return t.body.querySelectorAll(".ql-align-left, .ql-align-right, .ql-align-center, .ql-align-justify, .ql-indent-1, .ql-indent-2, .ql-indent-3, .ql-indent-4, .ql-indent-5, .ql-indent-6, .ql-indent-7, .ql-indent-8, .ql-indent-9, .ql-indent-9, .ql-indent-10").forEach((function(e){e.style.listStylePosition="inside",e.classList.contains("ql-align-left")&&(e.style.textAlign="left"),e.classList.contains("ql-align-right")&&(e.style.textAlign="right"),e.classList.contains("ql-align-justify")&&(e.style.textAlign="justify"),e.classList.contains("ql-align-center")&&(e.style.textAlign="center");var t=e.className.match(/ql-indent-(\d+)/);if(t){var l=39*parseInt(t[1]);e.style.paddingLeft=l+"px",e.style.listStylePosition="inside",e.style.marginLeft="0px"}})),t.body.innerHTML},B=function(){var e=(0,a.A)(s().mark((function e(t){var a,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={wlr_nonce:m.local.settings.wlr_setting_nonce,action:"wlr_save_email_template",email_type:t,template_body:O(D)},e.next=3,(0,y.MB)(a);case 3:n=e.sent,!0===(i=(0,h.xu)(n.data)).success&&null!==i.data&&i.data!=={}?(alertify.success(i.data.message),"expire_point_email"===M&&P("/settings"),l()):!1===i.success&&null!==i.data&&alertify.error(i.data.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,a.A)(s().mark((function e(t){var a,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={wlr_nonce:m.local.settings.wlr_setting_nonce,action:"wlr_reset_email_template",email_type:t,template_body:O(D)},e.next=3,(0,y.MB)(a);case 3:n=e.sent,!0===(i=(0,h.xu)(n.data)).success&&null!==i.data&&i.data!=={}?(alertify.success(i.data.message),"expire_point_email"===M&&P("/settings"),l()):!1===i.success&&null!==i.data&&alertify.error(i.data.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",{className:"flex flex-col items-start space-y-4 w-full mt-3 xl:mt-4 2xl:mt-5"},r.createElement("div",{className:"flex flex-col space-y-1"},r.createElement("h4",{className:"text-dark font-semibold text-lg tracking-wide flex items-center"},o.settings.email.name,r.createElement(g.A,{icon:"video-link",click:function(){return window.open(o.common.all_video_links.settings.emails)},tooltip:o.common.video_label,padding:"pl-3",fontSize:"2xl:text-2xl xl:text-xl text-md",descText:o.common.watch_text})),r.createElement("div",{className:"flex flex-col items-start w-full space-y-2"},r.createElement("small",{className:" tracking-wide 2xl:tracking-wider leading-3 2xl:leading-4 text-10px  2xl:text-12px text antialiased font-normal italic text-extra_light ",dangerouslySetInnerHTML:{__html:o.settings.email.description}}))),r.createElement("div",{className:"flex  w-full  gap-x-2"},r.createElement("div",{className:"flex flex-col items-start space-y-4 w-full mt-3 xl:mt-4 2xl:mt-5"},Object.values(null===(t=d.data)||void 0===t?void 0:t.email_content).map((function(e,t){return r.createElement(v,{State:d,SetDisableSave:i,handleUpdate:B,handleReset:H,value:{value:D,set:L},active:{value:A,set:q},item:e,key:t,show:{value:E,set:k},emailDetails:{value:p,set:b}})})))))}}}]);